{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/python-scraping-ssl-error/","webpackCompilationHash":"4c48fe7af45f72ccf1ce","result":{"data":{"markdownRemark":{"id":"6792d6ac-9ea1-5e3f-8f10-d0436f500366","html":"<figure>\n    <img src=\"/media/nature-photo1.jpeg\" alt=\"unsplash-film\">\n    <!-- <figcaption>Splendid</figcaption> -->\n</figure>\n<p>I was practicing python scraping with urllib library to get data impossible to extract from <code class=\"language-text\">request library</code>, but was faced with following code errors.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[URLError: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED]\ncertificate verify failed:\nunable to get local issuer certificate (_ssl.c:1056)&gt;</code></pre></div>\n<p>As always, I tried to figure out what caused this error. Many encountered such scraping error and suggested various solutions on Stackoverflow.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27835619/urllib-and-ssl-certificate-verify-failed-error\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stackoverflow.com/questions/27835619/urllib-and-ssl-certificate-verify-failed-error</a></li>\n</ul>\n<p>Thing is none of these suggestions worked for me. I donâ€™t want to reinvent the wheel so I googled SSL and CERTIFICATE<em>VERIFY</em>FAILED to figure out the fundamental error issue and found out why this error happened.</p>\n<h2 id=\"background-information\"><a href=\"#background-information\" aria-label=\"background information permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Background information</h2>\n<p>The Python standard library has multiple modules such as <code class=\"language-text\">httplib, urllib, urllib2,</code> and <code class=\"language-text\">xmlrpclib.</code> While these modules support HTTPS connections, they traditionally performed no verification of cerficiates presetend by HTTPS servers and were vulnerable to numerous attacks including Man-In-The-Middle(MITA) which hijack HTTPS connections from Python clients to eavesdrop or modify transferred data. The implications are that you need to take action to address the issue. Luckily, Python developers addressed the problem by enabling certificate verification by default. The change was implemented via Python Enhancement Proposal PEP 476.</p>\n<h2 id=\"solution\"><a href=\"#solution\" aria-label=\"solution permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution</h2>\n<p>As suggested, I imported ssl and added <code class=\"language-text\">ssl._create_unverified_context()</code> which works like charm.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> urllib<span class=\"token punctuation\">.</span>request <span class=\"token keyword\">import</span> urlopen\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\n<span class=\"token keyword\">import</span> ssl\n\ncontext <span class=\"token operator\">=</span> ssl<span class=\"token punctuation\">.</span>_create_unverified_context<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nres <span class=\"token operator\">=</span> urlopen<span class=\"token punctuation\">(</span><span class=\"token string\">\"https://seeko.kr/zboard4/zboard.php?id=mainnews\"</span><span class=\"token punctuation\">,</span>\n              context<span class=\"token operator\">=</span>context<span class=\"token punctuation\">)</span>\nsoup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> <span class=\"token string\">\"html.parser\"</span><span class=\"token punctuation\">)</span>\ndata <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>findAll<span class=\"token punctuation\">(</span><span class=\"token string\">\"td\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"article_subject\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">:</span>\n\t<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>get_text<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<blockquote>\n<p><strong>We are creating wealth every time we write a code</strong></p>\n</blockquote>","fields":{"slug":"/posts/python-scraping-ssl-error/","tagSlugs":["/tag/python/","/tag/scrapping/","/tag/crawling/","/tag/ssl/","/tag/certificate-verify-failed/"]},"frontmatter":{"date":"2019-08-15T21:35:11.199Z","description":"[URLError: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed:","tags":["Python","Scrapping","Crawling","SSL","CERTIFICATE_VERIFY_FAILED"],"title":"[Python Scraping] SSL: CERTIFICATE_VERIFY_FAILED Error Solved"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/python-scraping-ssl-error/"}}}